/*
 * SwipeMe
 * Author: Loz Calver
 *
 * Copyright 2013, MIT License
 */function SwipeMe(e,t){"use strict";function o(e){var t;for(t in n)typeof e[t]!="undefined"&&(n[t]=e[t]);typeof n.direction=="string"&&(n.direction=[n.direction])}var n={accessClasses:{left:"access-left",right:"access-right"},direction:["left","right"]},r={prepClass:function(e){return(" "+e+" ").replace(/[\t\r\n\f]/g," ")},hasClass:function(e,t){var n=" "+t+" ";return this.prepClass(e.className).indexOf(n)>=0},addClass:function(e,t){var n=e.className?this.prepClass(e.className):"";if(n.indexOf(" "+t+" ")<0){n+=t;e.className=n.trim()}},removeClass:function(e,t){var n=e.className?this.prepClass(e.className):"";if(n){while(n.indexOf(" "+t+" ")>=0)n=n.replace(" "+t+" "," ");e.className=n.trim()}},parentUntilAttr:function(e,t){return e.getAttribute&&e.getAttribute(t)?e:e.parentNode?this.parentUntilAttr(e.parentNode,t):!1}},i={swipe:function(t){var i=t==="left"?"right":"left";r.hasClass(e,n.accessClasses[t])?r.removeClass(e,n.accessClasses[t]):r.hasClass(e,n.accessClasses[i])||n.direction.indexOf(i)!==-1&&r.addClass(e,n.accessClasses[i])}},s={start:{},differences:{},isHorizontal:null,invalidTarget:!1,handleEvent:function(e){switch(e.type){case"touchstart":this.touchstart(e);break;case"touchmove":this.touchmove(e);break;case"touchend":this.touchend(e)}},touchstart:function(e){var t=e.touches[0];s.start={x:t.pageX,y:t.pageY};r.parentUntilAttr(t.target,"data-swipeme-ignore")&&(s.invalidTarget=!0)},touchmove:function(e){var t=e.touches[0];s.differences={x:t.pageX-s.start.x,y:t.pageY-s.start.y};s.isHorizontal===null&&(s.isHorizontal=Math.abs(s.differences.x)>Math.abs(s.differences.y));s.isHorizontal&&e.preventDefault()},touchend:function(){if(s.isHorizontal&&!s.invalidTarget){var e=s.differences.x>0?"right":"left";i.swipe(e)}s.isHorizontal=null;s.invalidTarget=!1;s.differences={}}};o(t);if(window.addEventListener){document.addEventListener("touchstart",s);document.addEventListener("touchmove",s);document.addEventListener("touchend",s)}return{swipe:function(e){e=e==="left"?"left":"right";i.swipe(e)}}};